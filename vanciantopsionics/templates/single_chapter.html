{% extends "vtp_base.html" %}

{% load static %}

{% block more_css %}
    <link rel="stylesheet" href="{% static "vtp.css" %}"/>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/stylesheets/jquery.tocify.min.css"/>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.css"/>
{% endblock %}

{% block content %}
    <div class="row">
    <div class="col-md-3 hidden-xs hidden-sm">
        <div id="toc"></div>
    </div>
    <div class="col-md-offset-1 col-md-7 text-justify">
        {% autoescape off %}
        <h1>{{ chapter.title }}</h1>
        {{ chapter.first_text }}
        {% for section in chapter.section_set.all %}
            <hr class="section-sep"/>
            <h2>{{ section.title }}</h2>
            {{ section.first_text }}
            {% for subsection in section.subsection_set.all %}
                <hr class="subsection-sep"/>
                <h3>{{ subsection.title }}</h3>
                {{ subsection.first_text }}
                {% for subsubsection in subsection.subsubsection_set.all %}
                    <hr class="subsubsection-sep"/>
                    <h4>{{ subsubsection.title }}</h4>
                    {{ subsubsection.first_text }}
                {% endfor %}
            {% endfor %}
        {% endfor %}
        {% endautoescape %}
    </div>
    </div>
{% endblock content %}

{% block more_js %}
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js"></script>
    <script src="{% static "vtp.js" %}"></script>
{% endblock %}